# クイックスタートガイド

## インストールと起動

### 1. Node.js と npm をインストール

Windows の場合:
- https://nodejs.org から LTS 版をダウンロード
- インストーラーに従ってインストール

Mac の場合:
```bash
brew install node
```

### 2. プロジェクトの依存パッケージをインストール

```bash
cd c:\Users\souch\running
npm install
```

### 3. 開発サーバーを起動

```bash
npm run dev
```

ターミナルに以下のようなメッセージが表示されます:
```
  VITE v5.0.0  ready in 123 ms

  ➜  Local:   http://localhost:5173/
  ➜  press h to show help
```

### 4. ブラウザで http://localhost:5173 にアクセス

## 初回使用時の流れ

1. **ブラウザの許可を確認**
   - 「このサイトで位置情報へのアクセスを許可しますか？」と表示されたら「許可」をクリック

2. **位置情報が表示される**
   - 現在地の緯度・経度がページに表示されます

3. **ランニング条件を入力**
   - 走りたい距離（例: 5km）
   - 種別（ランニング or ウォーキング）
   - 時間帯（今すぐ, 朝, 昼, 夜）

4. **「コースを提案」ボタンをクリック**
   - 天気情報が自動取得されます
   - 走りやすさレベルとアドバイスが表示されます
   - コース提案が表示されます
   - 地図で現在地が表示されます

## 位置情報が許可されていない場合

ページに「ブラウザの位置情報を許可するか、以下のフォームで緯度・経度を手入力してください。」というメッセージが表示されます。

### 手動入力の方法

1. 「緯度:」欄に数値を入力（例: 35.6762）
2. 「経度:」欄に数値を入力（例: 139.7674）
3. 「位置情報を設定」ボタンをクリック

### 一般的な座標の例

**東京駅**
- 緯度: 35.6762
- 経度: 139.7674

**渋谷スクランブル交差点**
- 緯度: 35.6595
- 経度: 139.7004

**京都駅**
- 緯度: 34.9756
- 経度: 135.7581

**大阪城公園**
- 緯度: 34.6873
- 経度: 135.5262

## 走りやすさの判定基準

### ✅ とても走りやすい
- 気温: 10～22℃
- 降水量: 0mm
- 風速: 5m/s 未満
- **アドバイス**: 最高の条件です。通常ペースで楽しんでください！

### △ まあまあ
- 気温が 25℃ 以上、または 5℃ 未満
- その他の平均的な条件
- **アドバイス**: 気温に応じた調整をしてください

### ⚠️ 控えめ推奨
- 降水あり（雨が降っている）
- 風速が 5～10m/s
- **アドバイス**: 注意深く走ってください

### ❌ 今日は見送り推奨
- 風速が 10m/s 以上（非常に強い風）
- **アドバイス**: 別の日に変更をおすすめします

## トラブルシューティング

### 「天気情報の取得に失敗しました」エラー

**原因**: Open-Meteo API に接続できない

**解決方法**:
1. インターネット接続を確認
2. ブラウザのコンソール（F12 キー）でエラーを確認
3. ページをリロード（Ctrl+R または Cmd+R）

### 位置情報が取得できない

**原因**: ブラウザのセキュリティ設定

**解決方法**:
- HTTP ではなく HTTPS でアクセス（本番環境）
- ブラウザの設定で位置情報へのアクセスを許可
- 手動で緯度・経度を入力

### 地図が表示されない

**原因**: Geolonia Maps の CDN スクリプトが読み込めていない

**解決方法**:
1. インターネット接続を確認
2. ブラウザのコンソールでエラーを確認
3. APIキーが正しいか確認

## コマンド一覧

```bash
# 開発サーバー起動
npm run dev

# プロダクション用ビルド（TypeScript型チェック + Viteビルド）
npm run build

# ビルド結果のプレビュー
npm run preview
```

## 開発中のファイル編集

- `src/App.tsx`: メインコンポーネント
- `src/App.css`: スタイルシート

ファイルを保存すると、自動的にブラウザがリロードされます（Hot Module Replacement）。

## 本番環境へのデプロイ

```bash
# ビルド
npm run build

# dist フォルダの内容をホスティングサービスにアップロード
```

### 注意事項

1. **Geolonia Maps APIキーの設定**
   - `index.html` の以下の行を編集:
   ```html
   <script src="https://cdn.geolonia.com/v1/embed?geolonia-api-key=YOUR-API-KEY"></script>
   ```
   - YOUR-API-KEY を実際のキーに置き換え

2. **HTTPS でのアクセス**
   - 位置情報 API は HTTPS でのみ動作します

3. **CORS 設定**
   - Open-Meteo API は CORS に対応しているため、特別な設定は不要

## ブラウザの互換性

以下のブラウザで動作確認済み:
- Chrome 60+
- Firefox 55+
- Safari 11+
- Edge 15+

## サポート・問題報告

詳細については、README.md および IMPLEMENTATION.md を参照してください。
